{"version":3,"file":"BakryptLaunchpad.js","sourceRoot":"","sources":["../../src/BakryptLaunchpad.ts"],"names":[],"mappings":"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","sourcesContent":["import { css } from 'lit';\r\nimport { html, component, useEffect, useState } from 'haunted';\r\nimport shoeStyles from '@shoelace-style/shoelace/dist/themes/light.styles';\r\n\r\nimport 'bakrypt-invoice/dist/src/bakrypt-invoice';\r\nimport SlTabGroup from '@shoelace-style/shoelace/dist/components/tab-group/tab-group';\r\nimport SlTab from '@shoelace-style/shoelace/dist/components/tab/tab';\r\nimport SlTabPanel from '@shoelace-style/shoelace/dist/components/tab-panel/tab-panel';\r\nimport SlCard from '@shoelace-style/shoelace/dist/components/card/card';\r\nimport SlDialog from '@shoelace-style/shoelace/dist/components/dialog/dialog';\r\nimport SlSkeleton from '@shoelace-style/shoelace/dist/components/skeleton/skeleton';\r\nimport SlSpinner from '@shoelace-style/shoelace/dist/components/spinner/spinner';\r\nimport SlMenu from '@shoelace-style/shoelace/dist/components/menu/menu';\r\nimport SlMenuItem from '@shoelace-style/shoelace/dist/components/menu-item/menu-item';\r\nimport SlProgressBar from '@shoelace-style/shoelace/dist/components/progress-bar/progress-bar';\r\nimport SlResponsiveMedia from '@shoelace-style/shoelace/dist/components/responsive-media/responsive-media';\r\nimport {\r\n  IAsset,\r\n  ITransaction,\r\n  IFile,\r\n  ErrorResponse,\r\n} from './adapters/interfaces.js';\r\nimport { AssetForm } from './components/asset.js';\r\nimport { useStyles } from './hooks/useStyles.js';\r\nimport { style } from './assets/css/main.css';\r\n\r\n// if (!customElements.get('bakrypt-invoice')) {\r\n//   customElements.define(\r\n//     'bakrypt-invoice',\r\n//     component(BakryptInvoice, {\r\n//       observedAttributes: ['transaction', 'collection'],\r\n//     })\r\n//   );\r\n// }\r\n\r\nif (!customElements.get('sl-tab-group')) {\r\n  customElements.define('sl-tab-group', SlTabGroup);\r\n}\r\nif (!customElements.get('sl-tab')) {\r\n  customElements.define('sl-tab', SlTab);\r\n}\r\nif (!customElements.get('sl-tab-panel')) {\r\n  customElements.define('sl-tab-panel', SlTabPanel);\r\n}\r\nif (!customElements.get('sl-card')) {\r\n  customElements.define('sl-card', SlCard);\r\n}\r\nif (!customElements.get('sl-dialog')) {\r\n  customElements.define('sl-dialog', SlDialog);\r\n}\r\nif (!customElements.get('sl-skeleton')) {\r\n  customElements.define('sl-skeleton', SlSkeleton);\r\n}\r\nif (!customElements.get('sl-spinner')) {\r\n  customElements.define('sl-spinner', SlSpinner);\r\n}\r\nif (!customElements.get('sl-menu')) {\r\n  customElements.define('sl-menu', SlMenu);\r\n}\r\nif (!customElements.get('sl-menu-item')) {\r\n  customElements.define('sl-menu-item', SlMenuItem);\r\n}\r\nif (!customElements.get('sl-progress-bar')) {\r\n  customElements.define('sl-progress-bar', SlProgressBar);\r\n}\r\nif (!customElements.get('sl-responsive-media')) {\r\n  customElements.define('sl-responsive-media', SlResponsiveMedia);\r\n}\r\n\r\nwindow.customElements.define(\r\n  'bk-asset-form',\r\n  component(AssetForm, { observedAttributes: ['index', 'asset'] })\r\n);\r\n\r\n// const testTransaction: ITransaction = {\r\n//   amount: 1,\r\n//   blockchain_fee: 0.227805,\r\n//   convenience_fee: 6,\r\n//   cost: 15.25561,\r\n//   surety_bond: 2,\r\n//   created_on: '2022-04-30 16:12:13.983673+00:00',\r\n//   deposit_address: 'addr1vxzqwzt22hkmkslkhyzt65976etatclvxvtwht6g3z8hgds8n20s8',\r\n//   description: 'Collection: 7c4dcc1b-73db-4e74-90c8-a0e2b23a0bb1',\r\n//   fraud_status: 'unknown',\r\n//   has_royalties: true,\r\n//   image: '',\r\n//   invalid_slot: '59855240',\r\n//   is_auto_processing: false,\r\n//   is_deleted: false,\r\n//   is_minted: false,\r\n//   is_refunded: false,\r\n//   is_resubmitted: false,\r\n//   is_voided: false,\r\n//   issuer_address: null,\r\n//   name: '',\r\n//   policy_id: '7517575ec43144fcba643475f01832ca3c3685fbb6b0b618f752700c',\r\n//   royalties:\r\n//     'addr_test1qzr84dy9syhkdy3ffn8c3mn8n2zh0wzhgwltz2dle5phaaky56y0ulyxyrz2mra05y8xsnxcgphrleag8mxs0llszrkjah',\r\n//   royalties_burned: false,\r\n//   royalties_burned_on: null,\r\n//   royalties_minted: false,\r\n//   royalties_minted_on: null,\r\n//   royalties_rate: '3.00',\r\n//   royalties_estimated_cost: 0.227805,\r\n//   status: 'canceled',\r\n//   status_description: 'Waiting for funds',\r\n//   type: 'ADA',\r\n//   updated_on: '2022-04-30 16:12:16.840865+00:00',\r\n//   expires_on: '2022-04-31 16:12:16.840865+00:00',\r\n//   uuid: '20baaf19-7cd6-4723-95c6-b1f554a27bbb',\r\n// };\r\n\r\ntype StringArrayIAsset = string;\r\n\r\nfunction BakryptLaunchpad(\r\n  this: any,\r\n  {\r\n    accessToken,\r\n    refreshToken,\r\n    csrfToken,\r\n    testnet,\r\n    initial,\r\n  }: {\r\n    accessToken: string;\r\n    refreshToken: string;\r\n    csrfToken: string;\r\n    testnet: string;\r\n    initial: StringArrayIAsset;\r\n  }\r\n) {\r\n  useStyles(this, [\r\n    shoeStyles,\r\n    style,\r\n    css`\r\n      :host {\r\n        font-family: 'arial';\r\n        font-weight: 400;\r\n      }\r\n\r\n      :host sl-input,\r\n      :host input,\r\n      :host sl-textarea,\r\n      :host sl-details {\r\n        margin-bottom: 2rem;\r\n      }\r\n\r\n      :host .form-control__help-text {\r\n        margin-top: 0.5rem;\r\n      }\r\n\r\n      :host .component-section {\r\n        padding-left: 0.85rem;\r\n        padding-right: 0.85rem;\r\n        max-width: 1200px;\r\n        margin: 0 auto;\r\n      }\r\n\r\n      :host .dialog__overlay {\r\n        position: fixed;\r\n        inset: 0px;\r\n        background-color: var(--sl-overlay-background-color);\r\n      }\r\n\r\n      .sl-toast-stack {\r\n        right: 0;\r\n        left: auto;\r\n        top: 0vh;\r\n      }\r\n      sl-dialog::part(base) {\r\n        max-height: 80vh;\r\n        margin-top: 10vh;\r\n      }\r\n    `,\r\n  ]);\r\n\r\n  const bakryptURI = testnet\r\n    ? 'https://testnet.bakrypt.io'\r\n    : 'https://bakrypt.io';\r\n\r\n  const [requestLoading, setRequestLoading] = useState(false);\r\n  const [showInvoice, setShowInvoice] = useState(false);\r\n  const [collectionRequest, setCollectionRequest] = useState([\r\n    {\r\n      blockchain: 'ada',\r\n      name: '',\r\n      asset_name: '',\r\n      image: '',\r\n      media_type: '',\r\n      description: '',\r\n      files: [],\r\n      attrs: {},\r\n      amount: 1,\r\n    } as IAsset,\r\n  ]);\r\n  const [royalties, setRoyalties] = useState({\r\n    rate: '',\r\n    address: '',\r\n  });\r\n  const [transaction, setTransaction] = useState<ITransaction>();\r\n\r\n  // Custom function to emit toast notifications\r\n  const notify = (\r\n    message: string,\r\n    variant = 'primary',\r\n    // icon = 'gear',\r\n    duration = 6000\r\n  ) => {\r\n    const alert: any = Object.assign(document.createElement('sl-alert'), {\r\n      variant,\r\n      closable: true,\r\n      duration,\r\n      innerHTML: `\r\n        ${message}\r\n      `,\r\n    });\r\n\r\n    this.shadowRoot.querySelector('.alert-container').appendChild(alert);\r\n    // const notification = this.shadowRoot.querySelector('sl-alert');\r\n\r\n    alert.toast = async () => {\r\n      const toastStack = Object.assign(document.createElement('div'), {\r\n        className: 'sl-toast-stack',\r\n      });\r\n      return new Promise<void>(resolve => {\r\n        if (toastStack.parentElement === null) {\r\n          this.shadowRoot.append(toastStack);\r\n        }\r\n\r\n        toastStack.appendChild(alert);\r\n\r\n        // Wait for the toast stack to render\r\n        requestAnimationFrame(() => {\r\n          // eslint-disable-next-line @typescript-eslint/no-unused-expressions -- force a reflow for the initial transition\r\n          alert.clientWidth;\r\n          alert.show();\r\n        });\r\n\r\n        this.addEventListener(\r\n          'sl-after-hide',\r\n          () => {\r\n            toastStack.removeChild(alert);\r\n            resolve();\r\n\r\n            // Remove the toast stack from the DOM when there are no more alerts\r\n            if (toastStack.querySelector('sl-alert') === null) {\r\n              toastStack.remove();\r\n            }\r\n          },\r\n          { once: true }\r\n        );\r\n      });\r\n    };\r\n\r\n    return alert.toast();\r\n  };\r\n\r\n  // Upload file to IPFS and return the generated attachment information\r\n  const uploadFile = async (e: any) => {\r\n    const { payload } = e.detail;\r\n    const { input } = e.detail;\r\n\r\n    setRequestLoading(true);\r\n    try {\r\n      const requestHeaders: any = {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n\r\n      if (csrfToken && csrfToken.length > 0) {\r\n        requestHeaders['X-CSRFToken'] = csrfToken;\r\n      }\r\n\r\n      const createAttachmentRequest = await fetch(`${bakryptURI}/v1/files/`, {\r\n        method: 'POST',\r\n        headers: requestHeaders,\r\n        body: payload,\r\n      });\r\n\r\n      if (createAttachmentRequest.ok) {\r\n        const jsonResponse: IFile = await createAttachmentRequest.json();\r\n        if (input) {\r\n          input.value = jsonResponse.ipfs;\r\n\r\n          const inputEvent = new Event('input');\r\n          input.dispatchEvent(inputEvent);\r\n        }\r\n\r\n        notify('Successfully uploaded file to IPFS', 'success');\r\n      } else {\r\n        const jsonResponse: ErrorResponse =\r\n          await createAttachmentRequest.json();\r\n        if (jsonResponse.error_description)\r\n          notify(jsonResponse.error_description, 'danger');\r\n        else if (jsonResponse.error) notify(jsonResponse.error, 'danger');\r\n        else if (jsonResponse.detail) notify(jsonResponse.detail, 'danger');\r\n      }\r\n    } catch (error) {\r\n      // console.log(error);\r\n      notify('Unable to upload file to IPFS server', 'danger');\r\n    }\r\n    setRequestLoading(false);\r\n  };\r\n\r\n  // Retrieve transaction information\r\n  const retrieveTransaction = async (uuid: string) => {\r\n    let tx;\r\n\r\n    try {\r\n      const requestHeaders: any = {\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n\r\n      if (csrfToken && csrfToken.length > 0) {\r\n        requestHeaders['X-CSRFToken'] = csrfToken;\r\n      }\r\n\r\n      const retrieveTransactionRequest = await fetch(\r\n        `${bakryptURI}/v1/transactions/${uuid}/`,\r\n        {\r\n          method: 'GET',\r\n          headers: requestHeaders,\r\n        }\r\n      );\r\n\r\n      if (retrieveTransactionRequest.ok) {\r\n        const jsonResponse: ITransaction =\r\n          await retrieveTransactionRequest.json();\r\n        setTransaction(jsonResponse);\r\n        tx = jsonResponse;\r\n      } else {\r\n        const jsonResponse: ErrorResponse =\r\n          await retrieveTransactionRequest.json();\r\n        if (jsonResponse.error_description)\r\n          notify(jsonResponse.error_description, 'danger');\r\n        else if (jsonResponse.error) notify(jsonResponse.error, 'danger');\r\n        else if (jsonResponse.detail) notify(jsonResponse.detail, 'danger');\r\n      }\r\n    } catch (error) {\r\n      // console.log(error);\r\n      notify('Unable to retrieve transaction.', 'danger');\r\n    }\r\n\r\n    return tx;\r\n  };\r\n\r\n  // Submit collection to the assets API\r\n  const submitRequest = async (collection: IAsset[]) => {\r\n    // console.log(collection);\r\n    let openInvoice = false;\r\n    setRequestLoading(true);\r\n    let submittedTx;\r\n    let submittedCol;\r\n    try {\r\n      const requestHeaders: any = {\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${accessToken}`,\r\n      };\r\n\r\n      if (csrfToken && csrfToken.length > 0) {\r\n        requestHeaders['X-CSRFToken'] = csrfToken;\r\n      }\r\n\r\n      const submitCollectionRequest = await fetch(`${bakryptURI}/v1/assets/`, {\r\n        method: 'POST',\r\n        headers: requestHeaders,\r\n        body: JSON.stringify(collection),\r\n      });\r\n\r\n      if (submitCollectionRequest.ok) {\r\n        const jsonResponse: IAsset[] | IAsset =\r\n          await submitCollectionRequest.json();\r\n\r\n        notify('Request was submitted', 'success');\r\n        submittedCol = jsonResponse;\r\n        if (Array.isArray(jsonResponse)) {\r\n          const prAsset = jsonResponse[0];\r\n          if (prAsset.transaction) {\r\n            // Retrieve Transaction Data\r\n            submittedTx = await retrieveTransaction(\r\n              String(prAsset.transaction)\r\n            );\r\n          }\r\n        } else if (\r\n          jsonResponse.transaction &&\r\n          (<ITransaction>jsonResponse.transaction).uuid\r\n        ) {\r\n          setTransaction(<ITransaction>jsonResponse.transaction);\r\n          submittedTx = jsonResponse.transaction;\r\n        }\r\n\r\n        openInvoice = true;\r\n      } else {\r\n        const jsonResponse: ErrorResponse =\r\n          await submitCollectionRequest.json();\r\n        if (jsonResponse.error_description)\r\n          notify(jsonResponse.error_description, 'danger');\r\n        else if (jsonResponse.error) notify(jsonResponse.error, 'danger');\r\n        else if (jsonResponse.detail) notify(jsonResponse.detail, 'danger');\r\n        else if (Array.isArray(jsonResponse)) {\r\n          const errors = jsonResponse.map((i, idx) => {\r\n            let error = ``;\r\n            if (Object.keys(i).length > 0) {\r\n              error = `<br/>Asset #${idx + 1} <br/>`;\r\n              for (const [k, v] of Object.entries(i)) {\r\n                error += `${k}: ${v} <br/>`;\r\n              }\r\n            }\r\n\r\n            return error;\r\n          });\r\n\r\n          notify(errors.join(' '), 'danger');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      notify(`Unable to submit request. Error: ${error}`, 'danger');\r\n    }\r\n    setRequestLoading(false);\r\n\r\n    if (openInvoice) {\r\n      setShowInvoice(true);\r\n\r\n      // Add submit event\r\n      const event = new CustomEvent('submit', {\r\n        bubbles: true,\r\n        composed: true,\r\n        detail: {\r\n          collection: submittedCol,\r\n          transaction: submittedTx,\r\n        },\r\n      });\r\n\r\n      this.dispatchEvent(event);\r\n    }\r\n  };\r\n\r\n  // Add additional tab and panel\r\n  const addAsset = () => {\r\n    const template = this.shadowRoot\r\n      .querySelector('#asset-template')\r\n      .cloneNode(true);\r\n\r\n    const tabGroup = this.shadowRoot.querySelector('sl-tab-group');\r\n    if (tabGroup) {\r\n      const indx = [...tabGroup.children].filter(\r\n        i => i.tagName.toLowerCase() === 'sl-tab'\r\n      ).length;\r\n      template.innerHTML = template.innerHTML.replace(/__prefix__/g, indx);\r\n      const newNode = template.content.cloneNode(true);\r\n\r\n      // Set index\r\n      newNode.querySelector('bk-asset-form').index = indx;\r\n\r\n      Object.defineProperty(\r\n        newNode.querySelector('bk-asset-form'),\r\n        'assetDetailed',\r\n        { writable: true, configurable: true, value: collectionRequest[indx] }\r\n      );\r\n\r\n      // newTab.active = true;\r\n      tabGroup.appendChild(newNode);\r\n\r\n      // Renumerate panel\r\n      [...tabGroup.children]\r\n        .filter(i => i.tagName.toLowerCase() === 'sl-tab')\r\n        .map((i, index) => {\r\n          const j = tabGroup.querySelector(`sl-tab-panel[name=\"${i.panel}\"]`);\r\n\r\n          Object.assign(i, {\r\n            innerHTML: i.innerHTML.replace(/#[0-9]+/g, `#${index + 1}`),\r\n          });\r\n          // i.innerHTML = i.innerHTML.replace(/#[0-9]+/g, `#${index + 1}`);\r\n\r\n          i.setAttribute('panel', index);\r\n          j.setAttribute('name', index);\r\n          return i;\r\n        });\r\n    }\r\n  };\r\n\r\n  const removeAsset = async (event: Event) => {\r\n    if (transaction) return;\r\n\r\n    const tab: any = event.target;\r\n    const tabGroup = this.shadowRoot.querySelector('sl-tab-group');\r\n\r\n    if (tab) {\r\n      const panel = tabGroup.querySelector(`sl-tab-panel[name=\"${tab.panel}\"]`);\r\n\r\n      // Show the previous tab if the tab is currently active\r\n\r\n      if (tab.active) {\r\n        const currentIndx = tabGroup.tabs.indexOf(tab);\r\n\r\n        if (currentIndx >= 0) {\r\n          tabGroup.show(tabGroup.tabs[currentIndx - 1].panel);\r\n        }\r\n      }\r\n\r\n      // Remove from colllection\r\n      let col = collectionRequest as IAsset[];\r\n\r\n      const indx = [...tabGroup.children]\r\n        .filter(i => i.tagName.toLowerCase() === 'sl-tab')\r\n        .indexOf(tab);\r\n\r\n      const del = col.splice(indx, 1);\r\n\r\n      if (del.length > 0) {\r\n        col = collectionRequest.filter(i => i !== del[0]);\r\n        setCollectionRequest(col);\r\n      }\r\n\r\n      // Remove the tab + panel\r\n      tab.remove();\r\n      panel.remove();\r\n\r\n      // Renumerate panel\r\n      [...tabGroup.children]\r\n        .filter(i => i.tagName.toLowerCase() === 'sl-tab')\r\n        .map((i, index) => {\r\n          const j = tabGroup.querySelector(`sl-tab-panel[name=\"${i.panel}\"]`);\r\n\r\n          Object.assign(i, {\r\n            innerHTML: i.innerHTML.replace(/#[0-9]+/g, `#${index + 1}`),\r\n          });\r\n          // i.innerHTML = i.innerHTML.replace(/#[0-9]+/g, `#${index + 1}`);\r\n\r\n          i.setAttribute('panel', index);\r\n          j.setAttribute('name', index);\r\n\r\n          const form = j.querySelector('bk-asset-form');\r\n\r\n          if (form) {\r\n            Object.defineProperty(form, 'index', {\r\n              writable: true,\r\n              configurable: true,\r\n              value: index,\r\n            });\r\n          }\r\n          return i;\r\n        });\r\n    }\r\n  };\r\n\r\n  const pushToken = (e: any) => {\r\n    if (transaction) return;\r\n    const asset: IAsset = e.detail.token;\r\n    const col = collectionRequest as Array<IAsset>;\r\n    col[e.detail.index] = asset;\r\n    setCollectionRequest(col);\r\n  };\r\n\r\n  const pushNotification = (e: any) => {\r\n    const [msg, type] = e.detail;\r\n    notify(msg, type);\r\n    return false;\r\n  };\r\n  const hideInvoice = () => {\r\n    setShowInvoice(false);\r\n  };\r\n\r\n  // const retryTransaction = (e: any) => {\r\n  //   submitRetry(e.detail.tx);\r\n  // };\r\n  // const refundTransaction = (e: any) => {\r\n  //   submitRefund(e.detail.tx);\r\n  // };\r\n\r\n  useEffect(() => {\r\n    const tabGroup = this.shadowRoot.querySelector('sl-tab-group');\r\n\r\n    // Add event listeners\r\n    tabGroup.addEventListener('sl-close', removeAsset);\r\n\r\n    const dialog = this.shadowRoot.querySelector('sl-dialog');\r\n    dialog.addEventListener('sl-hide', hideInvoice);\r\n\r\n    this.addEventListener('token', pushToken);\r\n    this.addEventListener('upload-file', uploadFile);\r\n    this.addEventListener('notification', pushNotification);\r\n    // this.addEventListener('retryTransaction', retryTransaction);\r\n    // this.addEventListener('refundTransaction', refundTransaction);\r\n    this.addEventListener('hideInvoice', hideInvoice);\r\n    return () => {\r\n      tabGroup.removeEventListener('sl-close', removeAsset);\r\n      this.removeEventListener('token', pushToken);\r\n      this.removeEventListener('upload-file', uploadFile);\r\n      this.removeEventListener('notification', pushNotification);\r\n      // this.removeEventListener('retryTransaction', retryTransaction);\r\n      // this.removeEventListener('refundTransaction', refundTransaction);\r\n      this.removeEventListener('hideInvoice', hideInvoice);\r\n      dialog.removeEventListener('sl-hide', hideInvoice);\r\n    };\r\n  }, [accessToken, refreshToken, transaction, showInvoice]);\r\n\r\n  useEffect(() => {\r\n    // console.log(initial);\r\n    // console.log('-------------------------- initial string started');\r\n    if (initial) {\r\n      const collection: Array<IAsset> = JSON.parse(initial);\r\n\r\n      if (Array.isArray(collection) && collection.length) {\r\n        for (let i = 0; i < collection.length; i += 1) {\r\n          pushToken({\r\n            detail: {\r\n              token: collection[i],\r\n              index: i,\r\n            },\r\n          });\r\n        }\r\n\r\n        for (let i = 0; i < collection.length; i += 1) {\r\n          addAsset();\r\n        }\r\n      }\r\n    } else {\r\n      pushToken({\r\n        detail: {\r\n          token: {\r\n            blockchain: 'ada',\r\n            name: '',\r\n            asset_name: '',\r\n            image: '',\r\n            media_type: '',\r\n            description: '',\r\n            files: [],\r\n            attrs: {},\r\n            amount: 1,\r\n          },\r\n          index: 0,\r\n        },\r\n      });\r\n\r\n      addAsset();\r\n    }\r\n  }, [initial]);\r\n\r\n  return html`\r\n    <!-- Spinner loader overlay -->\r\n    ${requestLoading\r\n      ? html`\r\n          <sl-spinner\r\n            style=\"position:absolute; right: 2rem; --track-width: 5px; font-size: 1.5rem\"\r\n          ></sl-spinner>\r\n        `\r\n      : null}\r\n\r\n    <!-- Tab groupand panel section -->\r\n    <section class=\"component-section\">\r\n      <sl-tab-group id=\"mainTabsSection\"> </sl-tab-group>\r\n    </section>\r\n\r\n    <!-- Royalties section -->\r\n    <section class=\"component-section\" style=\"margin-top:1rem\">\r\n      Royalties Information\r\n      <sl-badge\r\n        style=\"margin-left:0.5rem\"\r\n        variant=${royalties.rate.length > 0 && royalties.address.length > 0\r\n          ? 'success'\r\n          : 'neutral'}\r\n        >${royalties.rate.length > 0 && royalties.address.length > 0\r\n          ? 'Active'\r\n          : 'Not Active'}</sl-badge\r\n      >\r\n      <sl-divider style=\"--spacing: 2rem;\"></sl-divider>\r\n      <sl-details summary=\"Set Royalties\">\r\n        <sl-input\r\n          label=\"Royalties Rate in %\"\r\n          placeholder=\"Set the percentage rate from 0 - 100%\"\r\n          maxlength=\"32\"\r\n          value=${royalties.rate}\r\n          min=\"0\"\r\n          max=\"100\"\r\n          type=\"number\"\r\n          @input=${(e: {\r\n            path?: Array<any>;\r\n            originalTarget?: HTMLInputElement;\r\n            currentTarget?: HTMLInputElement;\r\n          }) => {\r\n            if (e.currentTarget && e.currentTarget.value.length > 0) {\r\n              setRoyalties({\r\n                ...royalties,\r\n                rate: e.currentTarget.value,\r\n              });\r\n            } else if (e.path && e.path.length > 0) {\r\n              setRoyalties({ ...royalties, rate: e.path[0].value });\r\n            } else if (e.originalTarget && e.originalTarget.value.length > 0) {\r\n              setRoyalties({\r\n                ...royalties,\r\n                rate: e.originalTarget.value,\r\n              });\r\n            }\r\n          }}\r\n        ></sl-input>\r\n\r\n        <sl-input\r\n          label=\"Royalties wallet address\"\r\n          placeholder=\"Set the wallet address that will be receiving royalties\"\r\n          maxlength=\"128\"\r\n          value=${royalties.address}\r\n          type=\"text\"\r\n          @input=${(e: {\r\n            path?: Array<any>;\r\n            originalTarget?: HTMLInputElement;\r\n            currentTarget?: HTMLInputElement;\r\n          }) => {\r\n            if (e.currentTarget && e.currentTarget.value.length > 0) {\r\n              setRoyalties({\r\n                ...royalties,\r\n                address: e.currentTarget.value,\r\n              });\r\n            } else if (e.path && e.path.length > 0) {\r\n              setRoyalties({\r\n                ...royalties,\r\n                address: e.path[0].value,\r\n              });\r\n            } else if (e.originalTarget && e.originalTarget.value.length > 0) {\r\n              setRoyalties({\r\n                ...royalties,\r\n                address: e.originalTarget.value,\r\n              });\r\n            }\r\n          }}\r\n        ></sl-input>\r\n      </sl-details>\r\n    </section>\r\n\r\n    <!-- Button section -->\r\n    <section class=\"component-section\" style=\"padding-bottom:4rem;\">\r\n      ${transaction\r\n        ? null\r\n        : html` <sl-button\r\n              variant=\"primary\"\r\n              class=\"--sl-color-emerald-300\"\r\n              @click=${() => {\r\n                const col: IAsset[] = collectionRequest;\r\n                if (\r\n                  col &&\r\n                  royalties.rate.length > 0 &&\r\n                  royalties.address.length > 0\r\n                ) {\r\n                  const prAsset = {\r\n                    ...col[0],\r\n                    royalties: royalties.address,\r\n                    royalties_rate: royalties.rate,\r\n                  };\r\n\r\n                  col[0] = prAsset;\r\n                } else {\r\n                  const prAsset = col[0];\r\n                  delete prAsset.royalties;\r\n                  delete prAsset.royalties_rate;\r\n                  col[0] = { ...prAsset };\r\n                }\r\n\r\n                submitRequest(col);\r\n              }}\r\n              >Submit request</sl-button\r\n            ><sl-button\r\n              variant=\"primary\"\r\n              outline\r\n              @click=${async () => {\r\n                await addAsset();\r\n\r\n                const tabGroup = this.shadowRoot.querySelector('sl-tab-group');\r\n\r\n                if (tabGroup) {\r\n                  const newTab = tabGroup.tabs[tabGroup.tabs.length - 1];\r\n                  tabGroup.show(newTab.panel);\r\n                  tabGroup.scrollIntoView();\r\n                }\r\n              }}\r\n              style=\"margin-left:2rem\"\r\n              >Add Asset</sl-button\r\n            >`}\r\n      ${transaction\r\n        ? html` <sl-button\r\n            variant=\"success\"\r\n            @click=${() => setShowInvoice(true)}\r\n            >Show Invoice</sl-button\r\n          >`\r\n        : null}\r\n    </section>\r\n\r\n    <!-- Transaction Dialog -->\r\n    <sl-dialog\r\n      label=\"Invoice Details\"\r\n      class=\"dialog-width\"\r\n      style=\"--width: 95vw;\"\r\n      .open=${showInvoice}\r\n    >\r\n      <bakrypt-invoice\r\n        .transaction=${transaction}\r\n        .collection=${collectionRequest}\r\n        .accessToken=${accessToken}\r\n        .testnet=${testnet}\r\n      ></bakrypt-invoice>\r\n    </sl-dialog>\r\n    <!-- Alert container -->\r\n    <div class=\"alert-container\"></div>\r\n\r\n    <!-- Asset template -->\r\n    <template id=\"asset-template\">\r\n      <sl-tab slot=\"nav\" panel=\"__prefix__\" closable>\r\n        Asset #__prefix__\r\n      </sl-tab>\r\n\r\n      <sl-tab-panel name=\"__prefix__\">\r\n        <div style=\"text-align: left; padding-top:1rem\">\r\n          <bk-asset-form></bk-asset-form>\r\n        </div>\r\n      </sl-tab-panel>\r\n    </template>\r\n    <!-- Spinner loader overlay -->\r\n    ${requestLoading\r\n      ? html` <div part=\"overlay\" class=\"dialog__overlay\" tabindex=\"-1\"></div> `\r\n      : null}\r\n  `;\r\n}\r\n\r\nexport default BakryptLaunchpad;\r\n"]}